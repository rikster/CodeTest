const state = {
  dealers: [
    {
      dealerCode: "4237",
      dealerName: "Chadstone Toyota",
      dms: "Auto IT (PMDS)",
      locations: [
        {
          locationCode: "4237",
          locationName: "1547 Dandenong Road",
          locationAddress: null,
          suburb: "OAKLEIGH",
          state: "VIC",
          postCode: "3166",
          locationType: "Principal",
          serviceSiteId: "UNI.9001.10004237",
          phone: "03 9568 0936",
          email: "location-22194-service@dealer-44807.test.toyota.com.au",
          expressEligible: null,
          features: [
            {
              "feature": "CORE",
              "displayName": "CORE",
              "description": "CORE",
              "value": true
            },
            {
              "feature": "TRANSPORT_OPTIONS",
              "displayName": "TRANSPORT_OPTIONS",
              "description": "TRANSPORT_OPTIONS",
              "value": true
            },
            {
              "feature": "TEMP_SEARCH_CANCEL",
              "displayName": "TEMP_SEARCH_CANCEL",
              "description": "TEMP_SEARCH_CANCEL",
              "value": true
            },
            {
              "feature": "VALUE_ADDS",
              "displayName": "VALUE_ADDS",
              "description": "VALUE_ADDS",
              "value": false
            },
            {
              "feature": "SEARCH_BOOKING",
              "displayName": "SEARCH_BOOKING",
              "description": "SEARCH_BOOKING",
              "value": false
            },
            {
              "feature": "CANCEL_BOOKING",
              "displayName": "CANCEL_BOOKING",
              "description": "CANCEL_BOOKING",
              "value": false
            },
            {
              "feature": "MODIFY_BOOKING",
              "displayName": "MODIFY_BOOKING",
              "description": "MODIFY_BOOKING",
              "value": false
            },
            {
              "feature": "SERVICE_OLD_TOYOTAS",
              "displayName": "SERVICE_OLD_TOYOTAS",
              "description": "SERVICE_OLD_TOYOTAS",
              "value": true
            }
          ]
        }
      ]
    },
    {
      dealerCode: "37272",
      dealerName: "Chatswood Toyota",
      dms: "TUNE",
      locations: [
        {
          locationCode: "37600",
          locationName: "1046 Victoria Road",
          locationAddress: null,
          suburb: "WEST RYDE",
          state: "NSW",
          postCode: "2114",
          locationType: "Branch",
          serviceSiteId: "61.10169.10169011126",
          phone: "02 9812 1777",
          email: "location-25341-service@dealer-45621.test.toyota.com.au",
          expressEligible: null,
          features: [
            {
              feature: "CORE",
              value: true
            },
            {
              feature: "TRANSPORT_OPTIONS",
              value: true
            },
            {
              feature: "TEMP_SEARCH_CANCEL",
              value: false
            },
            {
              feature: "SERVICE_OLD_TOYOTAS",
              value: false
            },
            {
              feature: "CANCEL_BOOKING",
              value: true
            },
            {
              feature: "MODIFY_BOOKING",
              value: false
            },
            {
              feature: "SEARCH_BOOKING",
              value: true
            },
            {
              feature: "VALUE_ADDS",
              value: false
            }
          ]
        },
        {
          locationCode: "37272",
          locationName: "728 Pacific Highway",
          locationAddress: null,
          suburb: "CHATSWOOD",
          state: "NSW",
          postCode: "2067",
          locationType: "Principal",
          serviceSiteId: "61.10169.10169011116",
          phone: "02 9201 8888",
          email: "asrar.ahmed@rxpservices.com",
          expressEligible: null,
          features: [
            {
              feature: "CORE",
              value: true
            },
            {
              feature: "TRANSPORT_OPTIONS",
              value: true
            },
            {
              feature: "TEMP_SEARCH_CANCEL",
              value: false
            },
            {
              feature: "SERVICE_OLD_TOYOTAS",
              value: false
            },
            {
              feature: "CANCEL_BOOKING",
              value: true
            },
            {
              feature: "MODIFY_BOOKING",
              value: false
            },
            {
              feature: "SEARCH_BOOKING",
              value: true
            },
            {
              feature: "VALUE_ADDS",
              value: false
            }
          ]
        }
      ]
    },
    {
      dealerCode: "2797",
      dealerName: "Dwyers Toyota",
      dms: "Auto IT (UNITS)",
      locations: [
        {
          locationCode: "2797",
          locationName: "449 Princes Highway",
          locationAddress: null,
          suburb: "BAIRNSDALE",
          state: "VIC",
          postCode: "3875",
          locationType: "Principal",
          serviceSiteId: "UNI.10019001.002797",
          phone: "03 5152 9777",
          email: "location-22225-service@dealer-44771.test.toyota.com.au",
          expressEligible: null,
          features: [
            {
              feature: "CORE",
              value: false
            },
            {
              feature: "TRANSPORT_OPTIONS",
              value: false
            },
            {
              feature: "TEMP_SEARCH_CANCEL",
              value: false
            },
            {
              feature: "SERVICE_OLD_TOYOTAS",
              value: false
            },
            {
              feature: "CANCEL_BOOKING",
              value: true
            },
            {
              feature: "MODIFY_BOOKING",
              value: false
            },
            {
              feature: "SEARCH_BOOKING",
              value: true
            },
            {
              feature: "VALUE_ADDS",
              value: false
            }
          ]
        }
      ]
    },
    {
      dealerCode: "8636",
      dealerName: "Nowra Toyota",
      dms: "Gateway (Voyager)",
      locations: [
        {
          locationCode: "36162",
          locationName: "171 Princes Highway",
          locationAddress: null,
          suburb: "ULLADULLA",
          state: "NSW",
          postCode: "2539",
          locationType: "Branch",
          serviceSiteId: "GAT.9001.100022155",
          phone: "02 4455 3777",
          email: "location-22445-service@dealer-44894.test.toyota.com.au",
          expressEligible: null,
          features: [
            {
              feature: "CORE",
              value: true
            },
            {
              feature: "TRANSPORT_OPTIONS",
              value: true
            },
            {
              feature: "TEMP_SEARCH_CANCEL",
              value: false
            },
            {
              feature: "SERVICE_OLD_TOYOTAS",
              value: false
            },
            {
              feature: "CANCEL_BOOKING",
              value: true
            },
            {
              feature: "MODIFY_BOOKING",
              value: false
            },
            {
              feature: "SEARCH_BOOKING",
              value: true
            },
            {
              feature: "VALUE_ADDS",
              value: false
            }
          ]
        },
        {
          locationCode: "8636",
          locationName: "104 Princes Highway",
          locationAddress: null,
          suburb: "SOUTH NOWRA",
          state: "NSW",
          postCode: "2541",
          locationType: "Principal",
          serviceSiteId: "GAT.9001.100022151",
          phone: "02 4428 5959",
          email: "location-22367-service@dealer-44894.test.toyota.com.au",
          expressEligible: null,
          features: [
            {
              feature: "CORE",
              value: true
            },
            {
              feature: "TRANSPORT_OPTIONS",
              value: true
            },
            {
              feature: "TEMP_SEARCH_CANCEL",
              value: false
            },
            {
              feature: "SERVICE_OLD_TOYOTAS",
              value: false
            },
            {
              feature: "CANCEL_BOOKING",
              value: true
            },
            {
              feature: "MODIFY_BOOKING",
              value: false
            },
            {
              feature: "SEARCH_BOOKING",
              value: true
            },
            {
              feature: "VALUE_ADDS",
              value: false
            }
          ]
        }
      ]
    },
    {
      dealerCode: "37425",
      dealerName: "Sydney City Toyota",
      dms: "TUNE",
      locations: [
        {
          locationCode: "37426",
          locationName: "36-38 Parramatta Road",
          locationAddress: null,
          suburb: "GLEBE",
          state: "NSW",
          postCode: "2037",
          locationType: "Branch",
          serviceSiteId: "61.10169.10169011116",
          phone: "02 9565 6313",
          email: "asrar.ahmed@rxpservices.com",
          expressEligible: null,
          features: [
            {
              feature: "CORE",
              value: true
            },
            {
              feature: "TRANSPORT_OPTIONS",
              value: true
            },
            {
              feature: "TEMP_SEARCH_CANCEL",
              value: false
            },
            {
              feature: "SERVICE_OLD_TOYOTAS",
              value: false
            },
            {
              feature: "CANCEL_BOOKING",
              value: true
            },
            {
              feature: "MODIFY_BOOKING",
              value: false
            },
            {
              feature: "SEARCH_BOOKING",
              value: true
            },
            {
              feature: "VALUE_ADDS",
              value: false
            }
          ]
        },
        {
          locationCode: "37425",
          locationName: "824 Bourke Street",
          locationAddress: null,
          suburb: "WATERLOO",
          state: "NSW",
          postCode: "2017",
          locationType: "Principal",
          serviceSiteId: "61.10169.10169011126",
          phone: "02 9690 9999",
          email: "asrar.ahmed@rxpservices.com",
          expressEligible: null,
          features: [
            {
              feature: "CORE",
              value: true
            },
            {
              feature: "TRANSPORT_OPTIONS",
              value: true
            },
            {
              feature: "TEMP_SEARCH_CANCEL",
              value: false
            },
            {
              feature: "SERVICE_OLD_TOYOTAS",
              value: false
            },
            {
              feature: "CANCEL_BOOKING",
              value: true
            },
            {
              feature: "MODIFY_BOOKING",
              value: false
            },
            {
              feature: "SEARCH_BOOKING",
              value: true
            },
            {
              feature: "VALUE_ADDS",
              value: false
            }
          ]
        }
      ]
    },
    {
      dealerCode: "283",
      dealerName: "Terry Shields Toyota",
      dms: "Gateway (Voyager)",
      locations: [
        {
          locationCode: "283",
          locationName: "Cnr Church & Raymond Streets",
          locationAddress: null,
          suburb: "PARRAMATTA",
          state: "NSW",
          postCode: "2150",
          locationType: "Principal",
          serviceSiteId: "GAT.9001.100022151",
          phone: "1300 796 299",
          email: "location-22435-service@dealer-44706.test.toyota.com.au",
          expressEligible: null,
          features: [
            {
              feature: "CORE",
              value: true
            },
            {
              feature: "TRANSPORT_OPTIONS",
              value: true
            },
            {
              feature: "TEMP_SEARCH_CANCEL",
              value: false
            },
            {
              feature: "SERVICE_OLD_TOYOTAS",
              value: false
            },
            {
              feature: "CANCEL_BOOKING",
              value: true
            },
            {
              feature: "MODIFY_BOOKING",
              value: false
            },
            {
              feature: "SEARCH_BOOKING",
              value: true
            },
            {
              feature: "VALUE_ADDS",
              value: false
            }
          ]
        }
      ]
    }
  ]
};

//setup rows
const dealers = state.dealers;
var rowData = [];

for (var i = 0; i < dealers.length; i++) {
  var row = {};
  var dealerName = dealers[i].dealerName; //{dealer: dealers[i]}
  row.dealer = dealerName;

  for (var j = 0; j < dealers[i].locations.length; j++) {
    var location = dealers[i].locations[j].locationName;
    row.location = location;

    for (var k = 0; k < dealers[i].locations[j].features.length; k++) {
      var feature = dealers[i].locations[j].features[k];

      if (feature.feature === "CORE") {
        if (feature.value === true) {
          row.core = true;
        } else if (feature.value === false ) {
          row.core = false;
        }
      }

      if (feature.feature === "TRANSPORT_OPTIONS") {
        if (feature.value === true) {
          row.transport = true;
        } else if (feature.value === false) {
          row.transport = false;
        }
      }

      if (feature.feature === "VALUE_ADDS") {
        if (feature.value === true) {
          row.valueAdds = true;
        } else if (feature.value === false) {
          row.valueAdds = false;
        }
      }

      if (feature.feature === "TEMP_SEARCH_CANCEL") {
        if (feature.value === true) {
          row.tempSearchCancel = true;
        } else if (feature.value === false) {
          row.tempSearchCancel = false;
        }
      }

      if (feature.feature === "SEARCH_BOOKING") {
        if (feature.value === true) {
          row.searchbooking = true;
        } else if (feature.value === false) {
          row.searchbooking = false;
        }
      }

      if (feature.feature === "CANCEL_BOOKING") {
        if (feature.value === true) {
          row.cancelBooking = true;
        } else if (feature.value === false) {
          row.cancelBooking = false;
        }
      }

      if (feature.feature === "MODIFY_BOOKING") {
        if (feature.value === true) {
          row.modifyBooking = true;
        } else if (feature.value === false) {
          row.modifyBooking = false;
        }
      }

      if (feature.feature === "SERVICE_OLD_TOYOTAS") {
        if (feature.value === true) {
          row.serviceOldToyotas = true;
        } else if (feature.value === false) {
          row.serviceOldToyotas = false;
        }
      }





    }
  }
  rowData.push(row);
}

console.log(rowData);
