const state = {
  features: [
    {
      feature: "CORE",
      displayName: "Core"
    },
    {
      feature: "TRANSPORT_OPTIONS",
      displayName: "Transport Options"
    },
    {
      feature: "TEMP_SEARCH_CANCEL",
      displayName: "Temporary Search Cancel"
    },
    {
      feature: "SERVICE_OLD_TOYOTAS",
      displayName: "Service Old Toyotas"
    },
    {
      feature: "CANCEL_BOOKING",
      displayName: "Cancel Booking"
    },
    {
      feature: "MODIFY_BOOKING",
      displayName: "Modify Booking"
    },
    {
      feature: "SEARCH_BOOKING",
      displayName: "Search Booking"
    },
    {
      feature: "VALUE_ADDS",
      displayName: "Value Adds"
    }
  ],
  dealers: [
    {
      dealerCode: "4237",
      dealerName: "Chadstone Toyota",
      dms: "Auto IT (PMDS)",
      locations: [
        {
          locationCode: "4237",
          locationName: "1547 Dandenong Road",
          locationAddress: null,
          suburb: "OAKLEIGH",
          state: "VIC",
          postCode: "3166",
          locationType: "Principal",
          serviceSiteId: "UNI.9001.10004237",
          phone: "03 9568 0936",
          email: "location-22194-service@dealer-44807.test.toyota.com.au",
          expressEligible: null,
          features: [
            {
              feature: "CORE",
              value: true
            },
            {
              feature: "TRANSPORT_OPTIONS",
              value: true
            },
            {
              feature: "TEMP_SEARCH_CANCEL",
              value: false
            },
            {
              feature: "SERVICE_OLD_TOYOTAS",
              value: false
            },
            {
              feature: "CANCEL_BOOKING",
              value: true
            },
            {
              feature: "MODIFY_BOOKING",
              value: false
            },
            {
              feature: "SEARCH_BOOKING",
              value: true
            },
            {
              feature: "VALUE_ADDS",
              value: false
            }
          ]
        }
      ]
    },
    {
      dealerCode: "37272",
      dealerName: "Chatswood Toyota",
      dms: "TUNE",
      locations: [
        {
          locationCode: "37600",
          locationName: "1046 Victoria Road",
          locationAddress: null,
          suburb: "WEST RYDE",
          state: "NSW",
          postCode: "2114",
          locationType: "Branch",
          serviceSiteId: "61.10169.10169011126",
          phone: "02 9812 1777",
          email: "location-25341-service@dealer-45621.test.toyota.com.au",
          expressEligible: null,
          features: [
            {
              feature: "CORE",
              value: true
            },
            {
              feature: "TRANSPORT_OPTIONS",
              value: true
            },
            {
              feature: "TEMP_SEARCH_CANCEL",
              value: false
            },
            {
              feature: "SERVICE_OLD_TOYOTAS",
              value: false
            },
            {
              feature: "CANCEL_BOOKING",
              value: true
            },
            {
              feature: "MODIFY_BOOKING",
              value: false
            },
            {
              feature: "SEARCH_BOOKING",
              value: true
            },
            {
              feature: "VALUE_ADDS",
              value: false
            }
          ]
        },
        {
          locationCode: "37272",
          locationName: "728 Pacific Highway",
          locationAddress: null,
          suburb: "CHATSWOOD",
          state: "NSW",
          postCode: "2067",
          locationType: "Principal",
          serviceSiteId: "61.10169.10169011116",
          phone: "02 9201 8888",
          email: "asrar.ahmed@rxpservices.com",
          expressEligible: null,
          features: [
            {
              feature: "CORE",
              value: true
            },
            {
              feature: "TRANSPORT_OPTIONS",
              value: true
            },
            {
              feature: "TEMP_SEARCH_CANCEL",
              value: false
            },
            {
              feature: "SERVICE_OLD_TOYOTAS",
              value: false
            },
            {
              feature: "CANCEL_BOOKING",
              value: true
            },
            {
              feature: "MODIFY_BOOKING",
              value: false
            },
            {
              feature: "SEARCH_BOOKING",
              value: true
            },
            {
              feature: "VALUE_ADDS",
              value: false
            }
          ]
        }
      ]
    },
    {
      dealerCode: "2797",
      dealerName: "Dwyers Toyota",
      dms: "Auto IT (UNITS)",
      locations: [
        {
          locationCode: "2797",
          locationName: "449 Princes Highway",
          locationAddress: null,
          suburb: "BAIRNSDALE",
          state: "VIC",
          postCode: "3875",
          locationType: "Principal",
          serviceSiteId: "UNI.10019001.002797",
          phone: "03 5152 9777",
          email: "location-22225-service@dealer-44771.test.toyota.com.au",
          expressEligible: null,
          features: [
            {
              feature: "CORE",
              value: false
            },
            {
              feature: "TRANSPORT_OPTIONS",
              value: false
            },
            {
              feature: "TEMP_SEARCH_CANCEL",
              value: false
            },
            {
              feature: "SERVICE_OLD_TOYOTAS",
              value: false
            },
            {
              feature: "CANCEL_BOOKING",
              value: true
            },
            {
              feature: "MODIFY_BOOKING",
              value: false
            },
            {
              feature: "SEARCH_BOOKING",
              value: true
            },
            {
              feature: "VALUE_ADDS",
              value: false
            }
          ]
        }
      ]
    },
    {
      dealerCode: "8636",
      dealerName: "Nowra Toyota",
      dms: "Gateway (Voyager)",
      locations: [
        {
          locationCode: "36162",
          locationName: "171 Princes Highway",
          locationAddress: null,
          suburb: "ULLADULLA",
          state: "NSW",
          postCode: "2539",
          locationType: "Branch",
          serviceSiteId: "GAT.9001.100022155",
          phone: "02 4455 3777",
          email: "location-22445-service@dealer-44894.test.toyota.com.au",
          expressEligible: null,
          features: [
            {
              feature: "CORE",
              value: true
            },
            {
              feature: "TRANSPORT_OPTIONS",
              value: true
            },
            {
              feature: "TEMP_SEARCH_CANCEL",
              value: false
            },
            {
              feature: "SERVICE_OLD_TOYOTAS",
              value: false
            },
            {
              feature: "CANCEL_BOOKING",
              value: true
            },
            {
              feature: "MODIFY_BOOKING",
              value: false
            },
            {
              feature: "SEARCH_BOOKING",
              value: true
            },
            {
              feature: "VALUE_ADDS",
              value: false
            }
          ]
        },
        {
          locationCode: "8636",
          locationName: "104 Princes Highway",
          locationAddress: null,
          suburb: "SOUTH NOWRA",
          state: "NSW",
          postCode: "2541",
          locationType: "Principal",
          serviceSiteId: "GAT.9001.100022151",
          phone: "02 4428 5959",
          email: "location-22367-service@dealer-44894.test.toyota.com.au",
          expressEligible: null,
          features: [
            {
              feature: "CORE",
              value: true
            },
            {
              feature: "TRANSPORT_OPTIONS",
              value: true
            },
            {
              feature: "TEMP_SEARCH_CANCEL",
              value: false
            },
            {
              feature: "SERVICE_OLD_TOYOTAS",
              value: false
            },
            {
              feature: "CANCEL_BOOKING",
              value: true
            },
            {
              feature: "MODIFY_BOOKING",
              value: false
            },
            {
              feature: "SEARCH_BOOKING",
              value: true
            },
            {
              feature: "VALUE_ADDS",
              value: false
            }
          ]
        }
      ]
    },
    {
      dealerCode: "37425",
      dealerName: "Sydney City Toyota",
      dms: "TUNE",
      locations: [
        {
          locationCode: "37426",
          locationName: "36-38 Parramatta Road",
          locationAddress: null,
          suburb: "GLEBE",
          state: "NSW",
          postCode: "2037",
          locationType: "Branch",
          serviceSiteId: "61.10169.10169011116",
          phone: "02 9565 6313",
          email: "asrar.ahmed@rxpservices.com",
          expressEligible: null,
          features: [
            {
              feature: "CORE",
              value: true
            },
            {
              feature: "TRANSPORT_OPTIONS",
              value: true
            },
            {
              feature: "TEMP_SEARCH_CANCEL",
              value: false
            },
            {
              feature: "SERVICE_OLD_TOYOTAS",
              value: false
            },
            {
              feature: "CANCEL_BOOKING",
              value: true
            },
            {
              feature: "MODIFY_BOOKING",
              value: false
            },
            {
              feature: "SEARCH_BOOKING",
              value: true
            },
            {
              feature: "VALUE_ADDS",
              value: false
            }
          ]
        },
        {
          locationCode: "37425",
          locationName: "824 Bourke Street",
          locationAddress: null,
          suburb: "WATERLOO",
          state: "NSW",
          postCode: "2017",
          locationType: "Principal",
          serviceSiteId: "61.10169.10169011126",
          phone: "02 9690 9999",
          email: "asrar.ahmed@rxpservices.com",
          expressEligible: null,
          features: [
            {
              feature: "CORE",
              value: true
            },
            {
              feature: "TRANSPORT_OPTIONS",
              value: true
            },
            {
              feature: "TEMP_SEARCH_CANCEL",
              value: false
            },
            {
              feature: "SERVICE_OLD_TOYOTAS",
              value: false
            },
            {
              feature: "CANCEL_BOOKING",
              value: true
            },
            {
              feature: "MODIFY_BOOKING",
              value: false
            },
            {
              feature: "SEARCH_BOOKING",
              value: true
            },
            {
              feature: "VALUE_ADDS",
              value: false
            }
          ]
        }
      ]
    },
    {
      dealerCode: "283",
      dealerName: "Terry Shields Toyota",
      dms: "Gateway (Voyager)",
      locations: [
        {
          locationCode: "283",
          locationName: "Cnr Church & Raymond Streets",
          locationAddress: null,
          suburb: "PARRAMATTA",
          state: "NSW",
          postCode: "2150",
          locationType: "Principal",
          serviceSiteId: "GAT.9001.100022151",
          phone: "1300 796 299",
          email: "location-22435-service@dealer-44706.test.toyota.com.au",
          expressEligible: null,
          features: [
            {
              feature: "CORE",
              value: true
            },
            {
              feature: "TRANSPORT_OPTIONS",
              value: true
            },
            {
              feature: "TEMP_SEARCH_CANCEL",
              value: false
            },
            {
              feature: "SERVICE_OLD_TOYOTAS",
              value: false
            },
            {
              feature: "CANCEL_BOOKING",
              value: true
            },
            {
              feature: "MODIFY_BOOKING",
              value: false
            },
            {
              feature: "SEARCH_BOOKING",
              value: true
            },
            {
              feature: "VALUE_ADDS",
              value: false
            }
          ]
        }
      ]
    }
  ]
};

const dealers = state.dealers;
var locationFeaturesArray = [];
var locationFeatures = {};

var coreFeature =false;
var transportOptions = false;
var tempSearchCancel = false;
var serviceOldToyotas = false;
var cancelBooking = false;
var modifyBooking = false;
var searchBooking = false;
var valueAdds = false;

for (var i = 0; i < dealers.length; i++) {
  var locations = dealers[i].locations;
  for (var j = 0; j < locations.length; j++) {
    var features = locations[j].features;
    for (var k = 0; k < features.length; k++) {

      if (
        features[k].feature.toUpperCase() === "CORE" &&
        features[k].value == true
      )
        coreFeature = true;
      if (
        features[k].feature.toUpperCase() === "TRANSPORT_OPTIONS" &&
        features[k].value == true
      )
        transportOptions = true;
      if (
        features[k].feature.toUpperCase() === "TEMP_SEARCH_CANCEL" &&
        features[k].value == true
      )
        tempSearchCancel = true;
      if (
        features[k].feature.toUpperCase() === "SERVICE_OLD_TOYOTAS" &&
        features[k].value == true
      )
        serviceOldToyotas = true;
      if (
        features[k].feature.toUpperCase() === "CANCEL_BOOKING" &&
        features[k].value == true
      )
        cancelBooking = true;
      if (
        features[k].feature.toUpperCase() === "MODIFY_BOOKING" &&
        features[k].value == true
      )
        modifyBooking = true;
      if (
        features[k].feature.toUpperCase() === "SEARCH_BOOKING" &&
        features[k].value == true
      )
        searchBooking = true;
      if (
        features[k].feature.toUpperCase() === "VALUE_ADDS" &&
        features[k].value == true
      )
        valueAdds = true;

      locationFeatures = {
        dealerName: dealers[i].dealerName,
        locationName: locations[j].locationName,
        coreFeature: coreFeature,
        transportOptions: transportOptions,
        tempSearchCancel: tempSearchCancel,
        serviceOldToyotas: serviceOldToyotas,
        cancelBooking: cancelBooking,
        modifyBooking: modifyBooking,
        searchBooking: searchBooking,
        valueAdds: valueAdds
      };

      locationFeaturesArray.push(locationFeatures);
    }
  }
}

console.log(locationFeaturesArray);
