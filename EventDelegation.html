<!--https://medium.freecodecamp.org/3-questions-to-watch-out-for-in-a-javascript-interview-725012834ccb-->

<!--Question #1: Event delegation-->
<!--When building an application, sometimes you’ll need to attach event listeners to buttons, text, or images on the page in order to perform some action when the user interacts with the element.-->
<!--If we take a simple todo list as an example, the interviewer may tell you that they want an action to occur when a user clicks one of the list items. And they want you to implement this functionality in JavaScript assuming the following HTML code:-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<ul id="todo-app">
    <li class="item">Walk the dog</li>
    <li class="item">Pay bills</li>
    <li class="item">Make dinner</li>
    <li class="item">Code for one hour</li>
</ul>
<script>
//attach an eventListener to each item
//document.addEventListener('DOMContentLoaded', function() {
//
//    let app = document.getElementById('todo-app');
//    let items = app.getElementsByClassName('item');
//
//    // attach event listener to each item
//    for (let item of items) {
//        item.addEventListener('click', function() {
//            alert('you clicked on item: ' + item.innerHTML);
//        });
//    }
//});

//While this does technically work, the problem is that you’re attaching an event listener to every single item individually. This is fine for 4 elements, but what if someone adds 10,000 items (they may have a lot of things to do) to their todo list? Then your function will create 10,000 separate event listeners and attach each of them to the DOM. This isn’t very efficient.
//In an interview it would be best to first ask the interviewer what the maximum number of elements the user can enter is. If it can never be more than 10, for example, then the above code would work fine. But if there’s no limit to the number of items the user can enter, then you’d want to use a more efficient solution
//If your application could end up with hundreds of event listeners, the more efficient solution would be to actually attach one event listener to the whole container, and then be able to access each item when it’s actually clicked. This is called event delegation, and it’s much more efficient than attaching separate event handlers.

//event delegation
//attach one event listener to the whole container,
//then access each item when it’s actually clicked.
document.addEventListener('DOMContentLoaded', function() {

    let app = document.getElementById('todo-app');

    // attach event listener to whole container
    app.addEventListener('click', function(e) {
        if (e.target && e.target.nodeName === 'LI') {
            let item = e.target;
            alert('you clicked on item: ' + item.innerHTML);
        }
    });

});

</script>
</body>
</html>